!function(b,M,s,i){var a,y,l,n,o,r,c,u,h,g,e,t="mPageScroll2id",k="mPS2id",f={scrollSpeed:1300,autoScrollSpeed:!0,scrollEasing:"easeInOutExpo",scrollingEasing:"easeInOutCirc",pageEndSmoothScroll:!0,layout:"vertical",offset:0,highlightSelector:!1,clickedClass:k+"-clicked",targetClass:k+"-target",highlightClass:k+"-highlight",forceSingleHighlight:!1,keepHighlightUntilNext:!1,highlightByNextTarget:!1,disablePluginBelow:!1,clickEvents:!0,onStart:function(){},onComplete:function(){},defaultSelector:!1,live:!0},d=0,p={init:function(e){e=b.extend(!0,{},f,e);if(b(s).data(k,e),y=b(s).data(k),!this.selector){var t="__"+k;this.each(function(){var e=b(this);e.hasClass(t)||e.addClass(t)}),this.selector="."+t}a=a?a+","+this.selector:this.selector,y.defaultSelector&&("object"==typeof b(a)&&0!==b(a).length||(a=".m_PageScroll2id,a[rel~='m_PageScroll2id'],.page-scroll-to-id,a[rel~='page-scroll-to-id'],._ps2id")),y.clickEvents&&b(s).undelegate("."+k).delegate(a,"click."+k,function(e){if(_._isDisabled.call(null))_._removeClasses.call(null);else{var t=b(this),a=t.attr("href"),l=t.prop("href");a&&-1!==a.indexOf("#/")||(_._reset.call(null),g=t.data("ps2id-offset")||0,_._isValid.call(null,a,l)&&_._findTarget.call(null,a)&&(e.preventDefault(),n="selector",o=t,_._setClasses.call(null,!0),_._scrollTo.call(null)))}}),b(M).unbind("."+k).bind("scroll."+k+" resize."+k,function(){if(_._isDisabled.call(null))_._removeClasses.call(null);else{var n=b("._"+k+"-t");n.each(function(e){var t=b(this),a=t.attr("id"),l=_._findHighlight.call(null,a);_._setClasses.call(null,!1,t,l),e==n.length-1&&_._extendClasses.call(null)})}}),l=!0,_._setup.call(null),_._live.call(null)},scrollTo:function(e,t){if(_._isDisabled.call(null))_._removeClasses.call(null);else if(e&&void 0!==e){_._isInit.call(null);var a={layout:y.layout,offset:y.offset,clicked:!1};t=b.extend(!0,{},a,t);_._reset.call(null),u=t.layout,h=t.offset,e=-1!==e.indexOf("#")?e:"#"+e,_._isValid.call(null,e)&&_._findTarget.call(null,e)&&(n="scrollTo",(o=t.clicked)&&_._setClasses.call(null,!0),_._scrollTo.call(null))}},destroy:function(){b(M).unbind("."+k),b(s).undelegate("."+k).removeData(k),b("._"+k+"-t").removeData(k),_._removeClasses.call(null,!0)}},_={_isDisabled:function(){var e=M,t="inner",a=y.disablePluginBelow instanceof Array?[y.disablePluginBelow[0]||0,y.disablePluginBelow[1]||0]:[y.disablePluginBelow||0,0];return"innerWidth"in M||(t="client",e=s.documentElement||s.body),e[t+"Width"]<=a[0]||e[t+"Height"]<=a[1]},_isValid:function(e,t){if(e){var a=-1!==(t=t||e).indexOf("#/")?t.split("#/")[0]:t.split("#")[0],l=M.location.toString().split("#")[0];return"#"!==e&&-1!==e.indexOf("#")&&(""===a||a===l)}},_setup:function(){var i=_._highlightSelector(),o=1,r=0;return b(i).each(function(){var e=b(this),t=e.attr("href"),a=e.prop("href");if(_._isValid.call(null,t,a)){var l=-1!==t.indexOf("#/")?t.split("#/")[1]:t.split("#")[1],n=b("#"+l);if(0<n.length){y.highlightByNextTarget&&n!==r&&(r?r.data(k,{tn:n}):n.data(k,{tn:"0"}),r=n),n.hasClass("_"+k+"-t")||n.addClass("_"+k+"-t"),n.data(k,{i:o}),e.hasClass("_"+k+"-h")||e.addClass("_"+k+"-h");var s=_._findHighlight.call(null,l);_._setClasses.call(null,!1,n,s),d=o,++o==b(i).length&&_._extendClasses.call(null)}}})},_highlightSelector:function(){return y.highlightSelector&&""!==y.highlightSelector?y.highlightSelector:a},_findTarget:function(e){var t=-1!==e.indexOf("#/")?e.split("#/")[1]:e.split("#")[1],a=b("#"+t);if(a.length<1||"fixed"===a.css("position")){if("top"!==t)return;a=b("body")}return r=a,u=u||y.layout,h=_._setOffset.call(null),(c=[(a.offset().top-h[0]).toString(),(a.offset().left-h[1]).toString()])[0]=c[0]<0?0:c[0],c[1]=c[1]<0?0:c[1],c},_setOffset:function(){var e,t,a,l;switch(h=h||(y.offset?y.offset:0),g&&(h=g),typeof h){case"object":case"string":0<(t=[(e=[h.y?h.y:h,h.x?h.x:h])[0]instanceof jQuery?e[0]:b(e[0]),e[1]instanceof jQuery?e[1]:b(e[1])])[0].length?(a=t[0].height(),"fixed"===t[0].css("position")&&(a+=t[0][0].offsetTop)):a=!isNaN(parseFloat(e[0]))&&isFinite(e[0])?parseInt(e[0]):0,0<t[1].length?(l=t[1].width(),"fixed"===t[1].css("position")&&(l+=t[1][0].offsetLeft)):l=!isNaN(parseFloat(e[1]))&&isFinite(e[1])?parseInt(e[1]):0;break;case"function":(e=h.call(null))instanceof Array?(a=e[0],l=e[1]):a=l=e;break;default:a=l=parseInt(h)}return[a,l]},_findHighlight:function(e){var t=M.location.toString().split("#")[0],a=b("._"+k+"-h[href='#"+e+"']"),l=b("._"+k+"-h[href='"+t+"#"+e+"']"),n=b("._"+k+"-h[href='#/"+e+"']"),s=b("._"+k+"-h[href='"+t+"#/"+e+"']");return a=0<a.length?a:l,0<(n=0<n.length?n:s).length?n:a},_setClasses:function(e,t,a){var l=y.clickedClass,n=y.targetClass,s=y.highlightClass;e&&l&&""!==l?(b("."+l).removeClass(l),o.addClass(l)):t&&n&&""!==n&&a&&s&&""!==s&&(_._currentTarget.call(null,t)?(t.addClass(n),a.addClass(s)):(!y.keepHighlightUntilNext||1<b("."+s).length)&&(t.removeClass(n),a.removeClass(s)))},_extendClasses:function(){var e=y.targetClass,t=y.highlightClass,a=b("."+e),l=b("."+t),n=e+"-first",s=e+"-last",i=t+"-first",o=t+"-last";b("._"+k+"-t").removeClass(n+" "+s),b("._"+k+"-h").removeClass(i+" "+o),y.forceSingleHighlight?y.keepHighlightUntilNext&&1<a.length?(a.slice(0,1).removeClass(e),l.slice(0,1).removeClass(t)):(a.slice(1).removeClass(e),l.slice(1).removeClass(t)):(a.slice(0,1).addClass(n).end().slice(-1).addClass(s),l.slice(0,1).addClass(i).end().slice(-1).addClass(o))},_removeClasses:function(e){b("."+y.clickedClass).removeClass(y.clickedClass),b("."+y.targetClass).removeClass(y.targetClass+" "+y.targetClass+"-first "+y.targetClass+"-last"),b("."+y.highlightClass).removeClass(y.highlightClass+" "+y.highlightClass+"-first "+y.highlightClass+"-last"),e&&(b("._"+k+"-t").removeClass("_"+k+"-t"),b("._"+k+"-h").removeClass("_"+k+"-h"))},_currentTarget:function(e){var t=y["target_"+e.data(k).i],a=e.data("ps2id-target"),l=a?b(a)[0].getBoundingClientRect():e[0].getBoundingClientRect();if(void 0!==t){var n=e.offset().top,s=e.offset().left,i=t.from?t.from+n:n,o=t.to?t.to+n:n,r=t.fromX?t.fromX+s:s,c=t.toX?t.toX+s:s;return l.top>=o&&l.top<=i&&l.left>=c&&l.left<=r}var u=b(M).height(),h=b(M).width(),g=a?b(a).height():e.height(),f=a?b(a).width():e.width(),d=1+g/u,p=d,_=g<u?u/g*d:d,C=1+f/h,v=C,I=f<h?h/f*C:C,m=[l.top<=u/p,l.bottom>=u/_,l.left<=h/v,l.right>=h/I];if(y.highlightByNextTarget){var O=e.data(k).tn;if(O){var S=O[0].getBoundingClientRect();"vertical"===y.layout?m=[l.top<=u/2,S.top>u/2,1,1]:"horizontal"===y.layout&&(m=[1,1,l.left<=h/2,S.left>h/2])}}return m[0]&&m[1]&&m[2]&&m[3]},_scrollTo:function(){y.scrollSpeed=parseInt(y.scrollSpeed),c=y.pageEndSmoothScroll?_._pageEndSmoothScroll.call(null):c;var e=b("html,body"),t=y.autoScrollSpeed?_._autoScrollSpeed.call(null):y.scrollSpeed,a=e.is(":animated")?y.scrollingEasing:y.scrollEasing,l=b(M).scrollTop(),n=b(M).scrollLeft();switch(u){case"horizontal":n!=c[1]&&(_._callbacks.call(null,"onStart"),e.stop().animate({scrollLeft:c[1]},t,a).promise().then(function(){_._callbacks.call(null,"onComplete")}));break;case"auto":var s;if(l!=c[0]||n!=c[1])if(_._callbacks.call(null,"onStart"),navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/))e.stop().animate({pageYOffset:c[0],pageXOffset:c[1]},{duration:t,easing:a,step:function(e,t){"pageXOffset"==t.prop?s=e:"pageYOffset"==t.prop&&M.scrollTo(s,e)}}).promise().then(function(){_._callbacks.call(null,"onComplete")});else e.stop().animate({scrollTop:c[0],scrollLeft:c[1]},t,a).promise().then(function(){_._callbacks.call(null,"onComplete")});break;default:l!=c[0]&&(_._callbacks.call(null,"onStart"),e.stop().animate({scrollTop:c[0]},t,a).promise().then(function(){_._callbacks.call(null,"onComplete")}))}},_pageEndSmoothScroll:function(){var e=b(s).height(),t=b(s).width(),a=b(M).height(),l=b(M).width();return[e-c[0]<a?e-a:c[0],t-c[1]<l?t-l:c[1]]},_autoScrollSpeed:function(){var e=b(M).scrollTop(),t=b(M).scrollLeft(),a=b(s).height(),l=b(s).width(),n=[y.scrollSpeed+y.scrollSpeed*Math.floor(Math.abs(c[0]-e)/a*100)/100,y.scrollSpeed+y.scrollSpeed*Math.floor(Math.abs(c[1]-t)/l*100)/100];return Math.max.apply(Math,n)},_callbacks:function(e){if(y)switch(this[k]={trigger:n,clicked:o,target:r,scrollTo:{y:c[0],x:c[1]}},e){case"onStart":y.onStart.call(null,this[k]);break;case"onComplete":y.onComplete.call(null,this[k])}},_reset:function(){u=h=g=!1},_isInit:function(){l||p.init.apply(this)},_live:function(){e=setTimeout(function(){y.live?b(_._highlightSelector()).length!==d&&_._setup.call(null):e&&clearTimeout(e),_._live.call(null)},1e3)},_easing:function(){b.easing.easeInQuad=b.easing.easeInQuad||function(e,t,a,l,n){return l*(t/=n)*t+a},b.easing.easeOutQuad=b.easing.easeOutQuad||function(e,t,a,l,n){return-l*(t/=n)*(t-2)+a},b.easing.easeInOutQuad=b.easing.easeInOutQuad||function(e,t,a,l,n){return(t/=n/2)<1?l/2*t*t+a:-l/2*(--t*(t-2)-1)+a},b.easing.easeInCubic=b.easing.easeInCubic||function(e,t,a,l,n){return l*(t/=n)*t*t+a},b.easing.easeOutCubic=b.easing.easeOutCubic||function(e,t,a,l,n){return l*((t=t/n-1)*t*t+1)+a},b.easing.easeInOutCubic=b.easing.easeInOutCubic||function(e,t,a,l,n){return(t/=n/2)<1?l/2*t*t*t+a:l/2*((t-=2)*t*t+2)+a},b.easing.easeInQuart=b.easing.easeInQuart||function(e,t,a,l,n){return l*(t/=n)*t*t*t+a},b.easing.easeOutQuart=b.easing.easeOutQuart||function(e,t,a,l,n){return-l*((t=t/n-1)*t*t*t-1)+a},b.easing.easeInOutQuart=b.easing.easeInOutQuart||function(e,t,a,l,n){return(t/=n/2)<1?l/2*t*t*t*t+a:-l/2*((t-=2)*t*t*t-2)+a},b.easing.easeInQuint=b.easing.easeInQuint||function(e,t,a,l,n){return l*(t/=n)*t*t*t*t+a},b.easing.easeOutQuint=b.easing.easeOutQuint||function(e,t,a,l,n){return l*((t=t/n-1)*t*t*t*t+1)+a},b.easing.easeInOutQuint=b.easing.easeInOutQuint||function(e,t,a,l,n){return(t/=n/2)<1?l/2*t*t*t*t*t+a:l/2*((t-=2)*t*t*t*t+2)+a},b.easing.easeInExpo=b.easing.easeInExpo||function(e,t,a,l,n){return 0==t?a:l*Math.pow(2,10*(t/n-1))+a},b.easing.easeOutExpo=b.easing.easeOutExpo||function(e,t,a,l,n){return t==n?a+l:l*(1-Math.pow(2,-10*t/n))+a},b.easing.easeInOutExpo=b.easing.easeInOutExpo||function(e,t,a,l,n){return 0==t?a:t==n?a+l:(t/=n/2)<1?l/2*Math.pow(2,10*(t-1))+a:l/2*(2-Math.pow(2,-10*--t))+a},b.easing.easeInSine=b.easing.easeInSine||function(e,t,a,l,n){return-l*Math.cos(t/n*(Math.PI/2))+l+a},b.easing.easeOutSine=b.easing.easeOutSine||function(e,t,a,l,n){return l*Math.sin(t/n*(Math.PI/2))+a},b.easing.easeInOutSine=b.easing.easeInOutSine||function(e,t,a,l,n){return-l/2*(Math.cos(Math.PI*t/n)-1)+a},b.easing.easeInCirc=b.easing.easeInCirc||function(e,t,a,l,n){return-l*(Math.sqrt(1-(t/=n)*t)-1)+a},b.easing.easeOutCirc=b.easing.easeOutCirc||function(e,t,a,l,n){return l*Math.sqrt(1-(t=t/n-1)*t)+a},b.easing.easeInOutCirc=b.easing.easeInOutCirc||function(e,t,a,l,n){return(t/=n/2)<1?-l/2*(Math.sqrt(1-t*t)-1)+a:l/2*(Math.sqrt(1-(t-=2)*t)+1)+a},b.easing.easeInElastic=b.easing.easeInElastic||function(e,t,a,l,n){var s=1.70158,i=0,o=l;if(0==t)return a;if(1==(t/=n))return a+l;if(i=i||.3*n,o<Math.abs(l)){o=l;s=i/4}else s=i/(2*Math.PI)*Math.asin(l/o);return-o*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/i)+a},b.easing.easeOutElastic=b.easing.easeOutElastic||function(e,t,a,l,n){var s=1.70158,i=0,o=l;if(0==t)return a;if(1==(t/=n))return a+l;if(i=i||.3*n,o<Math.abs(l)){o=l;s=i/4}else s=i/(2*Math.PI)*Math.asin(l/o);return o*Math.pow(2,-10*t)*Math.sin((t*n-s)*(2*Math.PI)/i)+l+a},b.easing.easeInOutElastic=b.easing.easeInOutElastic||function(e,t,a,l,n){var s=1.70158,i=0,o=l;if(0==t)return a;if(2==(t/=n/2))return a+l;if(i=i||n*(.3*1.5),o<Math.abs(l)){o=l;s=i/4}else s=i/(2*Math.PI)*Math.asin(l/o);return t<1?o*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/i)*-.5+a:o*Math.pow(2,-10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/i)*.5+l+a},b.easing.easeInBack=b.easing.easeInBack||function(e,t,a,l,n,s){return s==i&&(s=1.70158),l*(t/=n)*t*((s+1)*t-s)+a},b.easing.easeOutBack=b.easing.easeOutBack||function(e,t,a,l,n,s){return s==i&&(s=1.70158),l*((t=t/n-1)*t*((s+1)*t+s)+1)+a},b.easing.easeInOutBack=b.easing.easeInOutBack||function(e,t,a,l,n,s){return s==i&&(s=1.70158),(t/=n/2)<1?l/2*(t*t*((1+(s*=1.525))*t-s))+a:l/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+a},b.easing.easeInBounce=b.easing.easeInBounce||function(e,t,a,l,n){return l-b.easing.easeOutBounce(e,n-t,0,l,n)+a},b.easing.easeOutBounce=b.easing.easeOutBounce||function(e,t,a,l,n){return(t/=n)<1/2.75?l*(7.5625*t*t)+a:t<2/2.75?l*(7.5625*(t-=1.5/2.75)*t+.75)+a:t<2.5/2.75?l*(7.5625*(t-=2.25/2.75)*t+.9375)+a:l*(7.5625*(t-=2.625/2.75)*t+.984375)+a},b.easing.easeInOutBounce=b.easing.easeInOutBounce||function(e,t,a,l,n){return t<n/2?.5*b.easing.easeInBounce(e,2*t,0,l,n)+a:.5*b.easing.easeOutBounce(e,2*t-n,0,l,n)+.5*l+a}}};_._easing.call(),b.fn[t]=function(e){return p[e]?p[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void b.error("Method "+e+" does not exist"):p.init.apply(this,arguments)},b[t]=function(e){return p[e]?p[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void b.error("Method "+e+" does not exist"):p.init.apply(this,arguments)},b[t].defaults=f}(jQuery,window,document);